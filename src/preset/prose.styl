// (C)opyright 2020-11-17 Dirk Holtwick, holtwick.it. All rights reserved.
@require "../mixins/utils.styl"
@require "../mixins/colors.styl"
@require "../mixins/base.styl"
@require "../mixins/text.styl"
@require "tailwind.styl"

tw-prose()
  tw-reset-border()
  tw-reset-form()
  tw-reset-media()
  tw-reset-monospace()

  // max-width 65ch
  color -text-800
  line-height 1.75

  [class~=lead]
    color #4a5568
    font-size 1.25em
    line-height 1.6
    margin-y 1.2em

  a[href]
    color inherit
    text-decoration underline

  h1, h2, h3, h4
    a[href]
      color inherit
      text-decoration none

  strong, b
    color #1a202c
    font-weight 600

  hr
    border-color #e2e8f0
    border-top-width 1px
    margin-top 3em
    margin-bottom 3em

  blockquote
    font-weight 500
    font-style italic
    color #1a202c
    border-left-width 0.25rem
    border-left-color #e2e8f0
    quotes "\201C" "\201D" "\2018" "\2019"
    margin-top 1.6em
    margin-bottom 1.6em
    padding-left 1em

    p
      &:first-of-type
        &::before
          content open-quote

      &:last-of-type
        &::after
          content close-quote

  h1
    // color #1a202c
    font-weight 800
    font-size 2.25em
    margin-top 0
    margin-bottom 0.8888889em
    line-height 1.1111111

  h2
    // color #1a202c
    font-weight 700
    font-size 1.5em
    margin-top 2em
    margin-bottom 1em
    line-height 1.3333333

  h3
    // color #1a202c
    font-weight 600
    font-size 1.25em
    margin-top 1.6em
    margin-bottom 0.6em
    line-height 1.6

  h4
    // color #1a202c
    font-weight 600
    margin-top 1.5em
    margin-bottom 0.5em
    line-height 1.5

  figure figcaption
    // color #718096
    font-size 0.875em
    line-height 1.4285714
    margin-top 0.8571429em

  code
    &::before
      content "`"

    &::after
      content "`"

  pre
    color #e2e8f0
    background-color #2d3748
    overflow-x auto
    font-size 0.875em
    line-height 1.7142857
    margin-top 1.7142857em
    margin-bottom 1.7142857em
    border-radius 0.375rem
    padding-top 0.8571429em
    padding-right 1.1428571em
    padding-bottom 0.8571429em
    padding-left 1.1428571em

    code
      background-color transparent
      border-width 0
      border-radius 0
      padding 0
      font-weight 400
      color inherit
      font-size inherit
      font-family inherit
      line-height inherit

      &::before
        content ""

      &::after
        content ""

  table
    width 100%
    table-layout auto
    text-align left
    margin-top 2em
    margin-bottom 2em
    font-size 0.875em
    line-height 1.7142857

  $tablePadding = 8

  th, td
    border-bottom-width 1px
    border-bottom-color -gray-200

    &:first-child
      padding-left 0

    &:last-child
      padding-right 0

  tr
    &:last-child
      border-bottom-width 0

    th
      font-weight 600
      vertical-align bottom
      padding-right $tablePadding
      padding-bottom $tablePadding
      padding-left $tablePadding
      border-bottom-color -gray-400

    td
      vertical-align top
      padding-top $tablePadding
      padding-right $tablePadding
      padding-bottom $tablePadding
      padding-left $tablePadding

  p
    margin-top 1.25em
    margin-bottom 1.25em

  img
    margin-top 2em
    margin-bottom 2em

  video
    margin-top 2em
    margin-bottom 2em

  figure
    margin-top 2em
    margin-bottom 2em

    & > *
      margin-top 0
      margin-bottom 0

  h2
    code
      font-size 0.875em

    & + *
      margin-top 0

  h3
    code
      font-size 0.9em

    & + *
      margin-top 0

  hr + *
    margin-top 0

  h4
    & + *
      margin-top 0

  ul, ol
    margin rex(32) 0 rex(32) rex(32)
    padding 0

    ul, ol
      margin rex(32) 0 rex(32) rex(32)

    li
      margin-top rex(8)

  ul
    list-style disc outside

    ul
      list-style-type circle

  ol
    list-style decimal outside

    ol
      list-style-type lower-alpha

  dl
    dt
      font-weight bold

    dd
      margin rex(8) 0 rex(32) 0
